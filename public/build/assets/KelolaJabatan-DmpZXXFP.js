import{r as n,q as J,j as e,Y as E,y as r,a as S}from"./app-BGp6Cjwo.js";import{A as k}from"./AuthenticatedLayout-BR4zXvB2.js";import{B as C,S as w,P as A}from"./Pagination-CBwXTU3a.js";import N from"./TableJabatan-BelAU3P1.js";import O from"./AddJabatanForm-BngO-MWn.js";import P from"./JabatanForm-Q7xYjajr.js";import{s as T}from"./index-CVf5FA5V.js";import"./index-CZsqTT0k.js";import"./index-WmajGb9C.js";import"./index-Fg_hPEis.js";import"./motion-B8OS_XYX.js";import"./zoom-X00PKVfC.js";import"./index-FMfpcoE3.js";import"./useLocale-CAzkx_sE.js";import"./index-B-Iu5HGJ.js";import"./index-BtE96evI.js";import"./PurePanel-BCMIoBXA.js";import"./row-USzwBVrA.js";import"./index-b5Y3fyma.js";import"./index-zm8AfkF_.js";import"./index-B12D2l46.js";import"./BaseInput-BO8apeIw.js";import"./SearchOutlined-DBFYwasW.js";const oe=({auth:l,jabatan:a,search:p})=>{const[c,i]=n.useState(!1),[m,o]=n.useState(!1),[d,u]=n.useState(null);J().props;const[s,x]=T.useMessage(),h=()=>i(!0),f=()=>i(!1),b=()=>o(!1),y=t=>{u(t),o(!0)},g=t=>{console.log(t),r.delete(`/jabatan/${t}`).then(()=>{})},j=t=>{r.get("/jabatan",{search:t},{replace:!0})},M=async t=>{try{s.open({type:"loading",key:"handle-save",content:"Menyimpan perubahan..."});const v=await S.patch(`/jabatan/${t.id}`,t,{headers:{"Content-Type":"application/json"}});s.open({type:"success",key:"handle-save",content:"Berhasil menyimpan perubahan"})}catch{s.open({type:"error",key:"handle-save",content:"Terjadi kesalahan"})}finally{o(!1),r.reload({preserveState:!0})}};return e.jsxs(k,{title:"Jabatan",user:l.user,children:[x,e.jsx(E,{title:"Kelola Jabatan"}),e.jsx(C,{pageName:"Kelola Jabatan"}),e.jsxs("div",{className:"flex flex-row sm:justify-between mb-5",children:[e.jsx(w,{initialQuery:p,handleSearch:j}),e.jsx("div",{children:e.jsx("button",{onClick:h,className:" gap-2.5 rounded-md    inline-flex items-center justify-center bg-meta-3 py-2 px-5  text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-5 mr-4",children:"Tambah Jabatan"})})]}),e.jsxs("div",{className:"flex flex-col gap-10",children:[e.jsx(N,{jabatan:a,onEdit:y,onDelete:g}),e.jsx(A,{links:a.links,currentPage:a.current_page,lastPage:a.last_page,from:a.from,to:a.to,total:a.total})]}),e.jsx(O,{visible:c,onCancel:f}),e.jsx(P,{visible:m,onCancel:b,jabatan:d,onFinish:M})]})};export{oe as default};
