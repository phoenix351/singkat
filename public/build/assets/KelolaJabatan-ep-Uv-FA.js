import{r as n,q as J,j as e,Y as E,y as r,b as S}from"./app-DG4lkm6I.js";import{A as k}from"./AuthenticatedLayout-DihFFGMg.js";import{B as C,S as w,P as A}from"./Pagination-EgFfowgk.js";import N from"./TableJabatan-BVSY6kfw.js";import O from"./AddJabatanForm-NrcyTf_r.js";import P from"./JabatanForm-CvG1mpi2.js";import{s as T}from"./index-Cw_285zN.js";import"./Header-CS4FZP7E.js";import"./index-DPovuAtR.js";import"./index-BOoDnPea.js";import"./zoom-CYFUwcOb.js";import"./compact-item-CWVgPv4E.js";import"./index-CPNKc2Cg.js";import"./ActionButton-BmFTjVmE.js";import"./button-B7yed1Qm.js";import"./useLocale-Bn5sQBMJ.js";import"./index-C85wRqGF.js";import"./index-bg-KSOeg.js";import"./PurePanel-X1WZuywX.js";import"./row-B-yTj_Is.js";import"./index-CP26vVl7.js";import"./index-jsO2WCLV.js";import"./index-CQGu2i8L.js";import"./TextArea-Q31wMMF0.js";import"./BaseInput-QhogEnYX.js";const ne=({auth:l,jabatan:a,search:p})=>{const[m,i]=n.useState(!1),[c,o]=n.useState(!1),[d,u]=n.useState(null);J().props;const[s,x]=T.useMessage(),h=()=>i(!0),f=()=>i(!1),b=()=>o(!1),y=t=>{u(t),o(!0)},g=t=>{console.log(t),r.delete(`/jabatan/${t}`).then(()=>{})},j=t=>{r.get("/jabatan",{search:t},{replace:!0})},M=async t=>{try{s.open({type:"loading",key:"handle-save",content:"Menyimpan perubahan..."});const v=await S.patch(`/jabatan/${t.id}`,t,{headers:{"Content-Type":"application/json"}});s.open({type:"success",key:"handle-save",content:"Berhasil menyimpan perubahan"})}catch{s.open({type:"error",key:"handle-save",content:"Terjadi kesalahan"})}finally{o(!1),r.reload({preserveState:!0})}};return e.jsxs(k,{title:"Jabatan",user:l.user,children:[x,e.jsx(E,{title:"Kelola Jabatan"}),e.jsx(C,{pageName:"Kelola Jabatan"}),e.jsxs("div",{className:"flex flex-row sm:justify-between mb-5",children:[e.jsx(w,{initialQuery:p,handleSearch:j}),e.jsx("div",{children:e.jsx("button",{onClick:h,className:" gap-2.5 rounded-md    inline-flex items-center justify-center bg-meta-3 py-2 px-5  text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-5 mr-4",children:"Tambah Jabatan"})})]}),e.jsxs("div",{className:"flex flex-col gap-10",children:[e.jsx(N,{jabatan:a,onEdit:y,onDelete:g}),e.jsx(A,{links:a.links,currentPage:a.current_page,lastPage:a.last_page,from:a.from,to:a.to,total:a.total})]}),e.jsx(O,{visible:m,onCancel:f}),e.jsx(P,{visible:c,onCancel:b,jabatan:d,onFinish:M})]})};export{ne as default};
