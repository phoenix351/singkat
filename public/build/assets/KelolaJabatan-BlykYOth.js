import{r as n,q as J,j as e,Y as E,y as r,a as S}from"./app-BKJY4YWz.js";import{A as k}from"./AuthenticatedLayout-CJgoqSmC.js";import{B as C,S as w,P as A}from"./Pagination-DQDND7Ex.js";import N from"./TableJabatan-DwOYtzAY.js";import O from"./AddJabatanForm-CrJdkoCD.js";import P from"./JabatanForm-C7hWCxLc.js";import{s as T}from"./index-CIfUaNQx.js";import"./index-Itt_kyJq.js";import"./index-BWEEZemA.js";import"./index-CF2UqtEp.js";import"./motion-Db2xci-V.js";import"./zoom-j3DgVdf6.js";import"./index-CHILXjkW.js";import"./useLocale-L6Wt6RyJ.js";import"./index-DpbQZBri.js";import"./index-fnTQ2R4P.js";import"./PurePanel-BwRILxwh.js";import"./row-ZHVTgW77.js";import"./index-CYwRI9iO.js";import"./index-DWJMk0Vo.js";import"./index-C5fZKDoR.js";import"./BaseInput-CvXDMhyo.js";import"./SearchOutlined-M6lAbnbo.js";const oe=({auth:l,jabatan:a,search:p})=>{const[c,i]=n.useState(!1),[m,o]=n.useState(!1),[d,u]=n.useState(null);J().props;const[s,x]=T.useMessage(),h=()=>i(!0),f=()=>i(!1),b=()=>o(!1),y=t=>{u(t),o(!0)},g=t=>{console.log(t),r.delete(`/jabatan/${t}`).then(()=>{})},j=t=>{r.get("/jabatan",{search:t},{replace:!0})},M=async t=>{try{s.open({type:"loading",key:"handle-save",content:"Menyimpan perubahan..."});const v=await S.patch(`/jabatan/${t.id}`,t,{headers:{"Content-Type":"application/json"}});s.open({type:"success",key:"handle-save",content:"Berhasil menyimpan perubahan"})}catch{s.open({type:"error",key:"handle-save",content:"Terjadi kesalahan"})}finally{o(!1),r.reload({preserveState:!0})}};return e.jsxs(k,{title:"Jabatan",user:l.user,children:[x,e.jsx(E,{title:"Kelola Jabatan"}),e.jsx(C,{pageName:"Kelola Jabatan"}),e.jsxs("div",{className:"flex flex-row sm:justify-between mb-5",children:[e.jsx(w,{initialQuery:p,handleSearch:j}),e.jsx("div",{children:e.jsx("button",{onClick:h,className:" gap-2.5 rounded-md    inline-flex items-center justify-center bg-meta-3 py-2 px-5  text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-5 mr-4",children:"Tambah Jabatan"})})]}),e.jsxs("div",{className:"flex flex-col gap-10",children:[e.jsx(N,{jabatan:a,onEdit:y,onDelete:g}),e.jsx(A,{links:a.links,currentPage:a.current_page,lastPage:a.last_page,from:a.from,to:a.to,total:a.total})]}),e.jsx(O,{visible:c,onCancel:f}),e.jsx(P,{visible:m,onCancel:b,jabatan:d,onFinish:M})]})};export{oe as default};
